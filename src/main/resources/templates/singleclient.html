<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:replace="fragments/header :: header-css"/>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <link href="../static/css/well.css" th:href="@{/css/well.css}" rel="stylesheet"/>


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css"/>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/js/bootstrap-datetimepicker.min.js"></script>


</head>
<body>

<div th:replace="fragments/header :: header"/>

<div class="container">

    <div class="row">
        <div class="col-md-offset-2 col-md-8 col-lg-offset-3 col-lg-6">
            <div class="well profile">
                <div class="col-sm-12">
                    <div class="col-xs-12 col-sm-8">
                        <h2 th:text="${client.firstName} + ' ' +  ${client.secondName} + ' ' + ${client.thirdName}"></h2>

                        <p><strong>Email: </strong>
                            <span class="tags" th:text="${client.email}"></span>
                        </p>
                        <p><strong>Телефон: </strong>
                            <span class="tags" th:text="${client.phone}"></span>
                        </p>
                        <p><strong>Дата народження: </strong>
                            <span class="tags" th:text="${client.dateOfBirth}"></span>
                        </p>
                    </div>
                    <div class="col-xs-12 col-sm-4 text-center">
                        <figure>
                            <img src="/user-profile.jpg" alt="user" class="img-circle img-responsive">
                            <figcaption class="ratings">
                                <p>Рейтинг
                                    <a href="#">
                                        <span class="fa fa-star"></span>
                                    </a>
                                    <a href="#">
                                        <span class="fa fa-star"></span>
                                    </a>
                                    <a href="#">
                                        <span class="fa fa-star"></span>
                                    </a>
                                    <a href="#">
                                        <span class="fa fa-star"></span>
                                    </a>
                                    <a href="#">
                                        <span class="fa fa-star-o"></span>
                                    </a>
                                </p>
                            </figcaption>
                        </figure>
                    </div>
                </div>
                <div class="col-xs-12 divider text-center">
                    <div class="col-xs-12 col-sm-4 emphasis">
                        <h2><strong> 32,4K </strong></h2>
                        <p>
                            <small>Подписчиков</small>
                        </p>
                        <button class="btn btn-success btn-block btn-lg" id="create">Створити запис<span
                                class="fa fa-plus-circle"></span></button>
                    </div>


                    <div class="col-xs-12 col-sm-4 emphasis">
                        <h2><strong th:text="${client.appointmentsSize()}"></strong></h2>
                        <p>
                            <small>Відвідувань</small>
                        </p>

                        <a class="btn btn-primary btn-block btn-lg" th:if="${client.appointments!=null and !client.appointments.empty}" th:href="'/admin/appointment?id=' +
                                ${client.appointments[0].appointmentId}"
                           th:text="'Останій'"></a>
                    </div>
                    <div class="col-xs-12 col-sm-4 emphasis">
                        <h2><strong th:text="${client.rank()}"></strong></h2>
                        <p>
                            <small>Рейтинг</small>
                        </p>
                        <!--?<div class="btn-group dropup btn-block">-->
                        <!--?<button type="button" class="btn btn-primary"><span class="fa fa-gear"></span> Опции</button>-->
                        <!--?<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">-->
                        <!--?<span class="caret"></span>-->
                        <!--?<span class="sr-only">Toggle Dropdown</span>-->
                        <!--?</button>-->
                        <!--?<ul class="dropdown-menu text-left" role="menu">-->
                        <!--?<li><a href="#"><span class="fa fa-envelope pull-right"></span> Отправить email </a></li>-->
                        <!--?<li><a href="#"><span class="fa fa-list pull-right"></span> Редактировать список</a></li>-->
                        <!--?<li class="divider"></li>-->
                        <!--?<li><a href="#"><span class="fa fa-warning pull-right"></span>Сообщить о спаме</a></li>-->
                        <!--?<li class="divider"></li>-->
                        <!--?<li><a href="#" class="btn disabled" role="button"> Отписатся </a></li>-->
                        <!--?</ul>-->
                        <!--?</div>-->
                        <a class="btn btn-primary btn-block btn-lg" th:href="'#'" th:text="'Something'"></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--?<div id="appointment">-->
    <!--?<div class="container">-->
    <!--?<div class='col-md-5'>-->
    <!--?<div class="form-group">-->
    <!--?<div class='input-group date' id='datetimepicker6'>-->
    <!--?<input type='text' class="form-control" />-->
    <!--?<span class="input-group-addon">-->
    <!--?<span class="glyphicon glyphicon-calendar"></span>-->
    <!--?</span>-->
    <!--?</div>-->
    <!--?</div>-->
    <!--?</div>-->
    <!--?<div class='col-md-5'>-->
    <!--?<div class="form-group">-->
    <!--?<div class='input-group date' id='datetimepicker7'>-->
    <!--?<input type='text' class="form-control" />-->
    <!--?<span class="input-group-addon">-->
    <!--?<span class="glyphicon glyphicon-calendar"></span>-->
    <!--?</span>-->
    <!--?</div>-->
    <!--?</div>-->
    <!--?</div>-->
    <!--?</div>-->
    <!--?</div>-->


    <!-- Last appointments-->
    <table class="table" th:if="${client.appointments!=null and !client.appointments.empty}">
        <thead>
        <tr>
            <th width="3%">Відвідування</th>
            <th scope="col">Назва відвідування</th>
            <th scope="col">Загальна вартість</th>
            <th scope="col">Дата</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="appointment, rowStat: ${client.appointments}">
            <td><a class="btn btn-primary center-block btn-sm"
                   th:href="'/admin/procedure?id=' + ${appointment.appointmentId}"
                   th:text="Відвідування"></a></td>
            <td th:text="${appointment.name}"></td>
            <td th:text="${appointment.price}"></td>
            <td th:text="${appointment.date}"></td>
        </tr>
        </tbody>
    </table>
</div>
<script src="../static/moment/min/moment-with-locales.js"></script>
<script>
    $(document).ready(function () {
        $(function () {
            $('#datetimepicker6').datetimepicker();
            $('#datetimepicker7').datetimepicker({
                locale: 'ru',
                useCurrent: false //Important! See issue #1075
            });
            $("#datetimepicker6").on("dp.change", function (e) {
                $('#datetimepicker7').data("DateTimePicker").minDate(e.date);
            });
            $("#datetimepicker7").on("dp.change", function (e) {
                $('#datetimepicker6').data("DateTimePicker").maxDate(e.date);
            });
        });
    });
</script>

<div th:replace="fragments/footer :: footer"/>

</body>
</html>
